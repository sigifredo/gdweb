<div id="news">
<?php

$i=1;
if(!count($this->news))
    echo "<h3>No news</h3>";
else
{

    foreach($this->news as $line)
    {
        if($i%2 == 0)
            echo "<article class='artr'>";
        else
            echo "<article class='artl'>";
?>
<table>
  <tr>
    <td>
      <header class='title'><?php echo $line['title']; ?></header>
    </td>
  </tr>
  <tr>
    <td>
      <img class='image' src='<?php echo $this->baseUrl()."/pg/img/news/".$line['image']; ?>'./>
    </td>
    <td>
      <p class='description'><?php echo $line['description']; ?></p>
    </td>
  </tr>
</table>
</article>
<?php
        $i++;
    }

    echo "</div><div class=\"clear\"></div>";

    $sql = new Application_Model_SQL();
    $numPages = $sql->newsNumber();
    $page = $this->page;

    echo "<div class='pagination'>";
    if($page-1 > 0)
        echo "<a href=".$this->url(array('controller'=>'index','action'=>'index','page' => $page-1))."> Anterior </a>";

    for($j=1; $j<=$numPages; $j++)
    {
        if($j != $page)
            echo "<a href=".$this->url(array('controller'=>'index','action'=>'index','page' => $j)).">".$j."</a>";
        else
            echo " $j ";
    }

    if($page != $numPages)
        echo "<a href=".$this->url(array('controller'=>'index','action'=>'index','page' => $page+1))."> Siguiente </a>";

    echo "</div>";
}

?>
